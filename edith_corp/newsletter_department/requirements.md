# Brevoメルマガ自動配信システム 要件定義

## 概要
Brevo APIを使ったメルマガ配信システムをClaude Codeで構築する。
コンテンツ生成・リスト管理・配信すべてをCLIから自動化する。

## 使用サービス
- **メール配信**: Brevo（旧Sendinblue）無料プラン
- **API**: Brevo REST API
- **自動化**: Claude Code

## 制約条件
- **Brevo無料プラン**: 1日300通まで（UTCリセット = 日本時間 午前9時）
- **連絡先数**: 無制限
- **トランザクションメールも300通に含まれる**

## 現状
- **配信リスト**: 約315人
- **1日300通制限のため、2日に分割して全員に配信する想定**

## 必要な機能

### 1. リスト管理
- 連絡先の追加・削除・更新（API経由）
- セグメント分け（必要に応じて）
- CSVインポート対応があると便利

### 2. 分割送信
- 1日300通の上限を考慮し、リストを自動分割
- 日次バッチで送信（cron等でスケジュール）
- 送信済み/未送信の管理（重複送信防止）

### 3. コンテンツ生成
- Claudeによるメルマガ本文の自動生成
- テンプレート管理（ヘッダー・フッター等の共通部分）
- HTML形式での送信対応

### 4. 送信管理
- 送信ログの記録
- エラーハンドリング（バウンス・失敗時のリトライ）
- 配信結果の確認（開封率・クリック率はBrevo側で確認可能）

## 技術要件
- **Brevo APIキー**: アカウント作成後に取得
- **APIドキュメント**: https://developers.brevo.com/
- **言語**: Python推奨

## 進め方
1. Brevoアカウント作成・APIキー取得
2. API疎通確認（テストメール送信）
3. リスト管理機能の実装
4. 分割送信ロジックの実装
5. コンテンツ生成パイプラインの構築
6. スケジュール実行の設定
